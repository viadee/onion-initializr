<div class="code-display-container">
  <!-- Header with filename and copy button -->
  <div class="code-header">
    <div class="file-info">
      <svg class="file-icon" viewBox="0 0 20 20" fill="currentColor">
        <path
          d="M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2h-5L9 1H4z" />
      </svg>
      <span class="filename">{{ filename }}</span>
    </div>
    <button
      class="copy-button"
      (click)="copyToClipboard()"
      [class.copied]="isCopied"
      title="Copy to clipboard">
      <mat-icon
        *ngIf="!isCopied"
        class="copy-icon"
        fontIcon="content_copy"></mat-icon>
      <mat-icon *ngIf="isCopied" class="check-icon" fontIcon="check"></mat-icon>
      <span class="copy-text">{{ isCopied ? 'Copied!' : 'Copy' }}</span>
    </button>
  </div>

  <!-- Code content -->
  <div class="code-content">
    <div class="line-numbers">
      <div *ngFor="let line of lines; let i = index" class="line-number">
        {{ i + 1 }}
      </div>
    </div>
    <pre
      class="code-block"
      #codeBlock><code [innerHTML]="highlightedCode"></code></pre>
  </div>
</div>
