import { {{name}} } from '../../Application/Services/{{name}}';
{{#each domainServices}}
{{#if this}}
import { {{this}} } from '../../Domain/Services/{{this}}';
{{/if}}
{{/each}}
{{#each repositories}}
{{#if this}}
import { {{this}} } from '../../Domain/Interfaces/{{this}}';
import { {{removeFirst this}} } from '../Repositories/{{removeFirst this}}';
{{/if}}
{{/each}}

const {{lowerFirst name}}Factory = (
{{#each domainServices}}
  {{#if this}}{{lowerFirst this}}: {{this}},{{/if}}
{{/each}}
{{#each repositories}}
  {{#if this}}{{lowerFirst (removeFirst this)}}: {{this}},{{/if}}
{{/each}}
) => new {{name}}(
{{#each domainServices}}
  {{#if this}}{{lowerFirst this}},{{/if}}
{{/each}}
{{#each repositories}}
  {{#if this}}{{lowerFirst (removeFirst this)}},{{/if}}
{{/each}}
);

export const {{lowerFirst name}}Provider = {
  provide: {{name}},
  useFactory: {{lowerFirst name}}Factory,
  deps: [
{{#each domainServices}}
    {{#if this}}{{this}},{{/if}}
{{/each}}
{{#each repositories}}
    {{#if this}}{{removeFirst this}},{{/if}}
{{/each}}
  ],
};