{
  "name": "@onion-initializr/cli",
  "$schema": "../node_modules/nx/schemas/project-schema.json",
  "sourceRoot": "cli/src",
  "projectType": "application",
  "tags": [
    "npm:public",
    "npm:onion",
    "npm:starter",
    "npm:architecture",
    "npm:design",
    "npm:zwiebel"
  ],
  "targets": {
    "build": {
      "executor": "@nx/js:tsc",
      "dependsOn": ["@onion-initializr/lib:build"],
      "outputs": ["{workspaceRoot}/cli/dist"],
      "options": {
        "tsConfig": "cli/tsconfig.json",
        "main": "cli/src/application/services/main-app-service.ts",
        "outputPath": "cli/dist"
      }
    },
    "postbuild": {
      "executor": "nx:run-commands",
      "dependsOn": ["build"],
      "outputs": [
        "{workspaceRoot}/cli/dist/public",
        "{workspaceRoot}/cli/dist/src/domain/services/templates",
        "{workspaceRoot}/cli/dist/src/infrastructure/frameworks/templates"
      ],
      "options": {
        "commands": [
          "cpx \"../gh-pages/public/templates/**/*.hbs\" dist/public/templates",
          "cpx \"../gh-pages/public/templates/domain/services/templates/**/*.hbs\" dist/src/domain/services/templates",
          "cpx \"../gh-pages/public/templates/infrastructure/frameworks/templates/**/*.hbs\" dist/src/infrastructure/frameworks/templates"
        ],
        "cwd": "cli"
      }
    },
    "link": {
      "executor": "nx:run-commands",
      "dependsOn": ["build", "postbuild"],
      "options": {
        "commands": ["pnpm link --global"],
        "cwd": "cli"
      }
    },
    "test": {
      "executor": "nx:run-commands",
      "options": {
        "commands": [
          "cross-env TS_NODE_PROJECT=tsconfig.test.json c8 --all --include=\"src/**/*.ts\" --reporter=text --reporter=html mocha --require ts-node/register src/**/*.test.ts"
        ],
        "cwd": "cli"
      }
    },
    "e2e": {
      "executor": "nx:run-commands",
      "options": {
        "commands": ["playwright test"],
        "cwd": "cli"
      }
    }
  }
}
